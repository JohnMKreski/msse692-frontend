<section class="editor">
  <header class="editor__header">
    <h1>Manage Events</h1>
    <a mat-stroked-button color="primary" routerLink="/editor/create">New Event</a>
  </header>

  <div class="editor__content">
    <div class="editor__list">
      <h2>My Events ({{ items().length }})</h2>
      <div *ngIf="loading()" class="loading">Loadingâ€¦</div>
      <p class="error" *ngIf="error() as err">{{ err }}</p>
      <div class="list" *ngIf="!loading()">
        <p class="muted" *ngIf="!error() && items().length === 0">You have not created any events yet.</p>
        <div class="row" *ngFor="let e of items()">
          <div class="event__info">
            <div class="event__field">
              <span class="label">Event Name:</span>
              <span class="value">{{ e.eventName }}</span>
            </div>
            <div class="event__field">
              <span class="label">Start Date/Time:</span>
              <span class="value">{{ e.startAt | date:'MMM d, y h:mm a' }}</span>
            </div>
            <div class="event__field">
              <span class="label">End Date/Time:</span>
              <span class="value">{{ e.endAt | date:'MMM d, y h:mm a' }}</span>
            </div>
            <div class="event__field" *ngIf="e.type">
              <span class="label">Type:</span>
              <span class="value">{{ e.type }}</span>
            </div>
            <div class="event__field" *ngIf="e.eventLocation">
              <span class="label">Location:</span>
              <span class="value">{{ e.eventLocation }}</span>
            </div>
            <div class="event__status">
              <app-status-badge [status]="e.status"></app-status-badge>
            </div>
          </div>
          <div class="event__actions">
            <button mat-button (click)="edit(e)" [disabled]="saving()">Edit</button>
            <button mat-button color="primary" *ngIf="e.status === 'DRAFT'" (click)="onStatusChange(e,'PUBLISHED')" [disabled]="saving()">Publish</button>
            <button mat-button color="warn" *ngIf="e.status === 'PUBLISHED'" (click)="onStatusChange(e,'UNPUBLISHED')" [disabled]="saving()">Unpublish</button>
            <button mat-button color="warn" *ngIf="e.status !== 'CANCELLED'" (click)="onStatusChange(e,'CANCELLED')" [disabled]="saving()">Cancel</button>
            <button mat-stroked-button color="warn" (click)="delete(e)" [disabled]="saving()">Delete</button>
          </div>
        </div>
      </div>
    <!-- <div class="editor__calendar">
      <h2>My Events Calendar</h2>
      <app-events-calendar
        mode="MINE"
        [events]="items()"
        [loading]="loading()"
        (eventClick)="onCalendarEventClick($event)"
        (dateRangeChange)="onCalendarRange($event)">
        <div calendar-legend>
          <div class="legend" aria-label="Status legend">
            <span class="legend-title">Statuses</span>
            <span class="legend-item" *ngFor="let s of ['PUBLISHED','DRAFT','UNPUBLISHED','CANCELLED']">
              <span class="color-dot" [style.backgroundColor]="statusColors[s]"></span>{{ s.charAt(0) + s.slice(1).toLowerCase() }}
            </span>
          </div>
        </div>
      </app-events-calendar>
    </div> -->
  </div>
<!-- </section> -->
